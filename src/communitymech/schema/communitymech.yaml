id: https://w3id.org/culturebot-ai/communitymech
name: communitymech
title: Microbial Community Mechanisms Knowledge Base Schema
description: Schema for modeling microbial community structure, function, and ecological interactions
license: BSD-3-Clause
see_also:
  - https://github.com/CultureBotAI/CommunityMech

imports:
  - linkml:types

prefixes:
  linkml: https://w3id.org/linkml/
  communitymech: https://w3id.org/culturebot-ai/communitymech/
  NCBITaxon: http://purl.obolibrary.org/obo/NCBITaxon_
  ENVO: http://purl.obolibrary.org/obo/ENVO_
  CHEBI: http://purl.obolibrary.org/obo/CHEBI_
  GO: http://purl.obolibrary.org/obo/GO_
  UBERON: http://purl.obolibrary.org/obo/UBERON_
  CL: http://purl.obolibrary.org/obo/CL_
  PMID: http://www.ncbi.nlm.nih.gov/pubmed/
  doi: https://doi.org/
  xsd: http://www.w3.org/2001/XMLSchema#

default_prefix: communitymech

types:
  PMID:
    base: str
    uri: xsd:string

enums:
  EvidenceItemSupportEnum:
    description: The level of support for an evidence item
    permissible_values:
      SUPPORT:
        description: Evidence supports the claim
      REFUTE:
        description: Evidence refutes the claim
      PARTIAL:
        description: Evidence partially supports the claim
      NO_EVIDENCE:
        description: No evidence found
      WRONG_STATEMENT:
        description: Statement is incorrect

  EvidenceSourceEnum:
    description: The provenance/source of the evidence
    permissible_values:
      IN_VITRO:
        description: In vitro experiments (batch culture, bioreactor, etc.)
      IN_VIVO:
        description: In vivo experiments (field studies, host-associated, etc.)
      COMPUTATIONAL:
        description: In silico modeling, simulation, or prediction
      REVIEW:
        description: Review article or meta-analysis
      OTHER:
        description: Other evidence type

  EcologicalStateEnum:
    description: The ecological or health state of the community
    permissible_values:
      STABLE:
        description: Stable, equilibrium community
      PERTURBED:
        description: Recently perturbed (e.g., antibiotic treatment)
      ENGINEERED:
        description: Synthetic or engineered community
      TRANSIENT:
        description: Transient or developing community

  CommunityOriginEnum:
    description: The origin or source of the community
    permissible_values:
      NATURAL:
        description: Naturally occurring community from environment
      ENGINEERED:
        description: Deliberately engineered or synthetic community
      SYNTHETIC:
        description: Fully synthetic community designed in laboratory

  CommunityCategoryEnum:
    description: Broad functional/ecological category of the community
    permissible_values:
      BIOMINING:
        description: Metal extraction and bioleaching systems
      AMD:
        description: Acid mine drainage communities
      SYNTROPHY:
        description: Syntrophic metabolic cooperation
      PHYTOPLANKTON:
        description: Algae-bacteria associations
      RHIZOSPHERE:
        description: Plant root-associated communities
      LIGNOCELLULOSE:
        description: Lignocellulose degradation systems
      METHANOGENESIS:
        description: Methane-producing communities
      DIET:
        description: Direct interspecies electron transfer
      METAL_REDUCTION:
        description: Metal-reducing communities
      BIOREMEDIATION:
        description: Pollutant degradation and remediation
      CARBON_SEQUESTRATION:
        description: Carbon fixation and storage
      EXTREME_ENVIRONMENT:
        description: Communities from extreme conditions
      BIOTECHNOLOGY:
        description: Industrial biotechnology applications
      OTHER:
        description: Other or uncategorized communities

  InteractionTypeEnum:
    description: Type of ecological interaction between organisms
    permissible_values:
      MUTUALISM:
        description: Both organisms benefit (+/+)
      COMMENSALISM:
        description: One benefits, other unaffected (+/0)
      CROSS_FEEDING:
        description: Metabolite exchange between organisms
      COMPETITION:
        description: Both negatively affected (-/-)
      PREDATION:
        description: One benefits, other harmed (+/-)
      SYNTROPHY:
        description: Obligate metabolic cooperation

  AbundanceEnum:
    description: Relative abundance categories
    permissible_values:
      DOMINANT:
        description: Greater than 1% relative abundance
      ABUNDANT:
        description: 0.1-1% relative abundance
      COMMON:
        description: 0.01-0.1% relative abundance
      RARE:
        description: Less than 0.01% relative abundance

  FunctionalRoleEnum:
    description: Functional role in the community
    permissible_values:
      PRIMARY_PRODUCER:
        description: Fixes carbon (autotroph)
      PRIMARY_DEGRADER:
        description: Degrades complex substrates
      SECONDARY_FERMENTER:
        description: Ferments products from primary degraders
      SYNTROPHIC_PARTNER:
        description: Engages in syntrophic metabolism
      CROSS_FEEDER:
        description: Utilizes metabolites from other taxa

  DatasetTypeEnum:
    description: Type of omics or other dataset associated with a community
    permissible_values:
      METAGENOME:
        description: Shotgun metagenomic sequencing
      AMPLICON_16S:
        description: 16S rRNA amplicon sequencing
      AMPLICON_ITS:
        description: ITS amplicon sequencing (fungal)
      METATRANSCRIPTOME:
        description: Metatranscriptomic sequencing
      METAPROTEOME:
        description: Metaproteomic analysis
      METABOLOMICS:
        description: Metabolomics (LC-MS, GC-MS, etc.)
      GENOME:
        description: Isolate whole genome sequencing
      PHENOTYPE:
        description: Phenotypic measurements (growth, imaging, etc.)
      OTHER:
        description: Other dataset type

  DatasetRepositoryEnum:
    description: Data repositories for omics and related datasets
    permissible_values:
      NCBI_SRA:
        description: NCBI Sequence Read Archive
      NCBI_BIOPROJECT:
        description: NCBI BioProject
      NMDC:
        description: National Microbiome Data Collaborative
      JGI_GOLD:
        description: JGI Genomes OnLine Database
      JGI_IMG:
        description: JGI Integrated Microbial Genomes
      MGNIFY:
        description: MGnify (EBI metagenomics)
      METABOLOMICS_WORKBENCH:
        description: Metabolomics Workbench
      MASSIVE:
        description: MassIVE mass spectrometry data
      GNPS:
        description: Global Natural Products Social Molecular Networking
      FIGSHARE:
        description: Figshare data repository
      ZENODO:
        description: Zenodo data repository
      OTHER:
        description: Other data repository

  ExternalResourceRepositoryEnum:
    description: External repositories and platforms that host community model resources
    permissible_values:
      BIOMODELS:
        description: BioModels database
      KBASE:
        description: KBase Narrative platform
      BIGG:
        description: BiGG Models
      VMH:
        description: Virtual Metabolic Human
      MODELSEED:
        description: ModelSEED resources
      GITHUB:
        description: GitHub repository
      OTHER:
        description: Other resource repository

  CultureCollectionEnum:
    description: Major microbial culture collections worldwide
    permissible_values:
      ATCC:
        description: American Type Culture Collection (USA)
      DSM:
        description: Deutsche Sammlung von Mikroorganismen (DSMZ, Germany)
      JCM:
        description: Japan Collection of Microorganisms (Japan)
      NCTC:
        description: National Collection of Type Cultures (UK)
      CCUG:
        description: Culture Collection University of Gothenburg (Sweden)
      PCC:
        description: Pasteur Culture Collection of Cyanobacteria (France)
      NCIMB:
        description: National Collection of Industrial Marine Bacteria (UK)
      LMG:
        description: BCCM/LMG Bacteria Collection (Belgium)
      KCTC:
        description: Korean Collection for Type Cultures (Korea)
      CIP:
        description: Collection de l'Institut Pasteur (France)
      NBRC:
        description: NITE Biological Resource Center (Japan)
      VKM:
        description: All-Russian Collection of Microorganisms (Russia)
      CGMCC:
        description: China General Microbiological Culture Collection (China)
      BCRC:
        description: Bioresource Collection and Research Center (Taiwan)
      CBS:
        description: Westerdijk Fungal Biodiversity Institute (Netherlands)
      OTHER:
        description: Other culture collection not listed

classes:
  Term:
    description: An ontology term with ID and label
    attributes:
      id:
        description: The ontology term ID (e.g., NCBITaxon:1140, CHEBI:17992)
        required: true
      label:
        description: The human-readable label for the term
        required: true

  EvidenceItem:
    description: An evidence item linking a claim to a publication
    attributes:
      reference:
        description: The publication reference (PMID:12345678 or doi:10.1038/... format required)
        required: true
        pattern: "^(PMID:|doi:|bioproject:).*"
        implements:
          - linkml:authoritative_reference
      supports:
        description: Level of support this evidence provides
        range: EvidenceItemSupportEnum
        required: true
      evidence_source:
        description: Type of evidence (in vitro, computational, etc.)
        range: EvidenceSourceEnum
        required: true
      snippet:
        description: Exact quote from the publication supporting the claim (required for proper evidence)
        required: true
        minimum_value: 10
        implements:
          - linkml:excerpt
      explanation:
        description: How this evidence supports or refutes the claim
      confidence_score:
        description: Confidence in this evidence (0.0-1.0), based on snippet validation
        range: float
        minimum_value: 0.0
        maximum_value: 1.0

  TaxonDescriptor:
    description: Describes an organism with NCBITaxon term
    attributes:
      preferred_term:
        description: Human-readable organism name
        required: true
      term:
        description: NCBITaxon ontology term
        range: Term
        required: true
      notes:
        description: Additional notes about this organism

  MetaboliteDescriptor:
    description: Describes a metabolite with CHEBI term
    attributes:
      preferred_term:
        description: Human-readable metabolite name
        required: true
      term:
        description: CHEBI ontology term
        range: Term
        required: true
      concentration:
        description: Measured concentration or amount
      notes:
        description: Additional notes

  BiologicalProcessDescriptor:
    description: Describes a biological process with GO term
    attributes:
      preferred_term:
        description: Human-readable process name
        required: true
      term:
        description: GO biological process term
        range: Term
        required: true
      notes:
        description: Additional notes

  EnvironmentDescriptor:
    description: Describes an environment with ENVO term
    attributes:
      preferred_term:
        description: Human-readable environment name
        required: true
      term:
        description: ENVO ontology term
        range: Term
        required: true
      notes:
        description: Additional notes

  CultureCollectionID:
    description: A culture collection identifier with accession number
    attributes:
      collection:
        description: The culture collection name
        range: CultureCollectionEnum
        required: true
      accession:
        description: The accession number in this collection
        required: true
      url:
        description: Direct URL to the strain in the collection catalog
      notes:
        description: Additional information about this collection entry

  StrainDesignation:
    description: Detailed strain-level information for reproducibility
    attributes:
      strain_name:
        description: The formal strain designation (e.g., "DSM 8584", "PCC 7942", "ATCC 12345")
      culture_collections:
        description: Culture collection identifiers for this strain
        range: CultureCollectionID
        multivalued: true
      type_strain:
        description: Whether this is the nomenclatural type strain for the species
        range: boolean
      genome_accession:
        description: NCBI Assembly accession (e.g., GCF_000203695.1)
      genome_url:
        description: Direct URL to NCBI Assembly
      genetic_modification:
        description: Description of genetic modifications (for engineered strains)
      isolation_source:
        description: Original isolation source of the strain
      notes:
        description: Additional strain-specific information

  TaxonomicComposition:
    description: A taxon present in the community with abundance and role
    attributes:
      taxon_term:
        description: The organism
        range: TaxonDescriptor
        required: true
      strain_designation:
        description: Strain-level identification and culture collection info
        range: StrainDesignation
      abundance_level:
        description: Relative abundance category
        range: AbundanceEnum
      abundance_value:
        description: Quantitative abundance (%, cell count, etc.)
      functional_role:
        description: Role(s) in the community
        range: FunctionalRoleEnum
        multivalued: true
      evidence:
        description: Evidence for this organism's presence and role
        range: EvidenceItem
        multivalued: true

  InteractionDownstream:
    description: A downstream target in a causal interaction graph
    attributes:
      target:
        description: Name of the downstream interaction
        required: true
      description:
        description: Description of the causal link

  EcologicalInteraction:
    description: An interaction between organisms or metabolic processes
    attributes:
      name:
        description: Name of this interaction
        required: true
      description:
        description: Detailed description of the interaction
      interaction_type:
        description: Type of ecological interaction
        range: InteractionTypeEnum
      source_taxon:
        description: Source organism (if applicable)
        range: TaxonDescriptor
      target_taxon:
        description: Target organism (if applicable)
        range: TaxonDescriptor
      metabolites:
        description: Metabolites involved in the interaction
        range: MetaboliteDescriptor
        multivalued: true
      biological_processes:
        description: Biological processes involved
        range: BiologicalProcessDescriptor
        multivalued: true
      downstream:
        description: Downstream effects in causal graph
        range: InteractionDownstream
        multivalued: true
      evidence:
        description: Evidence for this interaction
        range: EvidenceItem
        multivalued: true

  EnvironmentalFactor:
    description: An environmental condition or parameter
    attributes:
      name:
        description: Name of the environmental factor
        required: true
      value:
        description: Measured or specified value
      unit:
        description: Unit of measurement
      description:
        description: Description of this factor
      evidence:
        description: Evidence for this condition
        range: EvidenceItem
        multivalued: true

  AssociatedDataset:
    description: An omics or other dataset associated with the community
    attributes:
      name:
        description: Human-readable name for this dataset
        required: true
      dataset_type:
        description: Type of dataset (metagenome, amplicon, metabolomics, etc.)
        range: DatasetTypeEnum
        required: true
      repository:
        description: Data repository where the dataset is deposited
        range: DatasetRepositoryEnum
      accession:
        description: Repository accession or identifier (e.g., PRJNA1151037, nmdc:sty-11-ev70y104, MSV000095476)
        required: true
      url:
        description: Direct URL to the dataset
      description:
        description: Description of the dataset contents and scope
      evidence:
        description: Evidence linking this dataset to the community
        range: EvidenceItem
        multivalued: true

  ExternalResource:
    description: An external model or narrative resource linked to the community
    attributes:
      name:
        description: Human-readable name for this resource
        required: true
      repository:
        description: Repository or platform where this resource is hosted
        range: ExternalResourceRepositoryEnum
        required: true
      resource_id:
        description: Repository identifier (e.g., MODEL2405300001, ws.73218.obj.75)
        required: true
      url:
        description: Direct URL to the resource
        required: true
      description:
        description: Description of the resource and its relevance
      evidence:
        description: Evidence linking this resource to the community
        range: EvidenceItem
        multivalued: true

  CommunityEngineeringDesign:
    description: Design intent and implementation details for engineered or synthetic communities
    attributes:
      objective:
        description: Primary design objective or experimental hypothesis
      assembly_strategy:
        description: How member strains were selected and assembled
      inoculation_strategy:
        description: How the initial inoculum was composed and introduced
      passaging_regimen:
        description: Serial transfer or cultivation regimen used for stabilization and selection
      perturbation_design:
        description: Planned perturbations applied to probe or tune community behavior
      measurement_endpoints:
        description: Primary readouts used to evaluate design outcomes
        multivalued: true
      protocol_url:
        description: URL to an assembly or cultivation protocol, if available
      notes:
        description: Additional engineering-design details
      evidence:
        description: Evidence supporting the engineering-design description
        range: EvidenceItem
        multivalued: true

  MicrobialCommunity:
    tree_root: true
    description: A microbial community with composition and interactions
    attributes:
      name:
        description: Community name
        required: true
      description:
        description: Overview of the community
      ecological_state:
        description: State of the community (stable, engineered, etc.)
        range: EcologicalStateEnum
      community_origin:
        description: Origin of the community (natural, engineered, or synthetic)
        range: CommunityOriginEnum
      community_category:
        description: Broad functional or ecological category
        range: CommunityCategoryEnum
      engineering_design:
        description: Explicit engineering design and implementation details for this community
        range: CommunityEngineeringDesign
      environment_term:
        description: Environment where community exists
        range: EnvironmentDescriptor
      taxonomy:
        description: Organisms present in the community
        range: TaxonomicComposition
        multivalued: true
      ecological_interactions:
        description: Interactions between organisms and processes
        range: EcologicalInteraction
        multivalued: true
      environmental_factors:
        description: Environmental conditions
        range: EnvironmentalFactor
        multivalued: true
      associated_datasets:
        description: Omics and other datasets associated with this community
        range: AssociatedDataset
        multivalued: true
      external_resources:
        description: External model and narrative resources linked to this community
        range: ExternalResource
        multivalued: true
